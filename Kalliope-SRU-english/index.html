
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>MODS-Plugin - Kitodo Production Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#mods-plugin" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Kitodo Production Documentation" class="md-header__button md-logo" aria-label="Kitodo Production Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kitodo Production Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MODS-Plugin
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Kitodo Production Documentation" class="md-nav__button md-logo" aria-label="Kitodo Production Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Kitodo Production Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#search-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Search Fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#institution-filter" class="md-nav__link">
    <span class="md-ellipsis">
      Institution Filter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filter-parameter" class="md-nav__link">
    <span class="md-ellipsis">
      Filter Parameter
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structural-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Structural Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#classification-of-structural-elements" class="md-nav__link">
    <span class="md-ellipsis">
      Classification of Structural Elements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mapping-file" class="md-nav__link">
    <span class="md-ellipsis">
      Mapping File
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#metadata-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      Metadata Mapping
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="mods-plugin">MODS-Plugin</h1>
<p>The MODS plugin allows users to import documents into Kitodo.Production from the Kalliope Union Catalog using the <a href="(http://kalliope.staatsbibliothek-berlin.de/de/support/sru.html)">SRU interface</a>. The import process resembles that of the existing Pica Plugin and is initiated from the form to create new processes. After adding the plugin to Kitodo.Production, the user has the option to select „Kalliope“ from the „Search in OPAC“ pulldown menu, in addition to other catalogues that may have been configured for other plugins. The MODS plugin furthermore allows configuration of additional catalogues that return their data in the MODS format,  by adding „catalogue“ elements for each individual catalogue to the plugin configuration file <a href="https://github.com/kitodo/kitodo-production/blob/2.x/Goobi/config/kitodo_mods_opac.xml">kitodo_mods_opac.xml</a>.</p>
<p>All Kalliope documents imported this way are classified as „Inventory“ (German: „Bestand“), while all direct child elements and all ancestors up to the root element of the inventory are returned as the structural data of the requested document.</p>
<p>The following examples aim to visualize which structural elements are included when importing Kalliope documents. The trees in the examples are abstract representations of "Inventories" in Kalliope.</p>
<p>The orange node labeled with an "X" <img alt="" src="../images/orange_x.png" /> marks the document selected for import by the user.</p>
<p>The green nodes <img alt="" src="../images/green_node.png" /> mark all structural elements that will be included in that specific import.</p>
<p>Example 1:</p>
<p><img alt="Example 1" src="../images/Kalliope_Import_Example_1.png" /></p>
<p>Example 2:</p>
<p><img alt="Example 2" src="../images/Kalliope_Import_Example_2.png" /></p>
<p>In addition, the MODS plugins allows the user to filter the search results by institution. For this purpose the form displays an extra pulldown menu, containing the names of all institutions available for filtering the search results, whenever the user selects „Kalliope“ from the OPAC pulldown menu. This list can be configured using the configuration file of the plugin.</p>
<h2 id="configuration">Configuration</h2>
<p>The following aspects of the MODS plugin can be configured via the file „kitodo_mods_opac.xml“.</p>
<h3 id="search-fields">Search Fields</h3>
<p>With the initial configuration, the MODS plugin supports search queries using the fields „Titel“, „Creator“, „Creation Date“, „Identifier“, „Genre“ and „Keyword“. When sending the request to the Kalliope SRU interface these field names are mapped to the corresponding Kalliope index fields.</p>
<p>The search fields and their mappings can be configured using the plugin configuration file. Within an enclosing „searchFields“ element, the file contains a „searchField“ child element for each field mapping. Each of these „searchField“ elements contains the two attributes „label“ and „value“. While the „label“ attributes contain the field names that will be displayed in the import form for each search field, the „value“ attributes hold the corresponding search field parameter as it is used by the Kalliope SRU interface. The following listing shows this field mapping in its initial form:</p>
<pre><code>    &lt;searchFields&gt;
        &lt;searchField label=&quot;Title&quot; value=&quot;ead.title&quot; /&gt;
        &lt;searchField label=&quot;Creator&quot; value=&quot;ead.creator&quot; /&gt;
        &lt;searchField label=&quot;Identifier&quot; value=&quot;ead.id&quot; /&gt;
        &lt;searchField label=&quot;Creation date&quot; value=&quot;ead.creationdate.normal&quot; /&gt;
        &lt;searchField label=&quot;Genre&quot; value=&quot;ead.genre&quot; /&gt;
        &lt;searchField label=&quot;Keyword&quot; value=&quot;ead.keyword&quot; /&gt;
    &lt;/searchFields&gt;
</code></pre>
<p>A complete list of all search fields available in the Kalliope SRU interface can be obtained from <a href="http://kalliope.staatsbibliothek-berlin.de/de/support/cql.html">http://kalliope.staatsbibliothek-berlin.de/de/support/cql.html</a>.</p>
<h3 id="institution-filter">Institution Filter</h3>
<p>When searching for documents in the Kalliope Union Catalog using the import form of Kitodo.Production, the resulting hit list can be restricted to individual holding institutions. These institutions can be selected via an additional pulldown menu whenever the user selects a catalogue for which such institutions have been configured in the plugin configuration file.</p>
<p>Similarly to searchFields, the configuration of institutions is done on a per-catalogue basis. To activate this feature for a specific catalogue, the corresponding catalogue element in the plugin configuration file requires a „filterInstitutions“ element, that in turn contains individual „institution“ child elements that represent the individual holding institutions configured for this catalogue. Each of these „institution“ elements again contains two attributes „label“ and „value“. The „label“ attribute contains the name of the institution how it is displayed in the Kitodo.Production import form. The „value“ attribute of an „institution“ element holds the value for the parameter specified in the „institutionFilterParameter“ element (see next section) that is passed to the SRU interface to restrict a search to the corresponding institution.</p>
<p>In case of the Kalliope Union Catalog, the „value“ attribute therefore contains the ISIL-ID of each such institution.</p>
<pre><code>    &lt;filterInstitutions&gt;
        &lt;institution label=&quot;Deutsche Nationalbibliothek&quot; value=&quot;DE-101&quot; /&gt;
        &lt;institution label=&quot;Universitätsbibliothek &amp;lt;Leipzig&amp;gt;&quot; value=&quot;DE-15&quot; /&gt;
        &lt;institution label=&quot;Sächsische Landesbibliothek - Staats- und Universitätsbibliothek &amp;lt;Dresden&amp;gt;&quot; value=&quot;DE-14&quot; /&gt;
        &lt;institution label=&quot;Staats- und Universitätsbibliothek Hamburg Carl von Ossietzky&quot; value=&quot;DE-18&quot; /&gt;
        &lt;institution label=&quot;Staatsbibliothek zu Berlin - Preußischer Kulturbesitz, Haus Unter den Linden&quot; value=&quot;DE-1&quot; /&gt;
    &lt;/filterInstitutions&gt;
</code></pre>
<h3 id="filter-parameter">Filter Parameter</h3>
<p>The element „institutionFilterParameter“ allows the user to configure the name of the parameter that is used to filter search results by institution. The „value“ attribute of the element contains the name of the corresponding URL parameter. For Kalliope, this value points to the Parameter „ead.repository.isil“:</p>
<pre><code>    &lt;institutionFilterParameter value=&quot;ead.repository.isil&quot; /&gt;
</code></pre>
<p>Whenever this parameter is changed, the „value“ attributes of the „institution“ elements have to be adapted accordingly (see last section).</p>
<h3 id="structural-elements">Structural Elements</h3>
<p>All documents imported via the Kalliope SRU interface require the structural elements „Inventory“ (German: „Bestand“), „Subinventory“ (German: „Unterbestand“) and „Manuscript“. These structural types need to be added to the ruleset file in use, if they are not already available. An exemplary configuration for the types „Inventory“ and „Subinventory“ follows:</p>
<pre><code>    &lt;DocStrctType&gt;
        &lt;Name&gt;Inventory&lt;/Name&gt;
        &lt;language name=&quot;de&quot;&gt;Bestand&lt;/language&gt;
        &lt;language name=&quot;en&quot;&gt;Inventory&lt;/language&gt;
        &lt;allowedchildtype&gt;Subinventory&lt;/allowedchildtype&gt;
        &lt;allowedchildtype&gt;Manuscript&lt;/allowedchildtype&gt;
        &lt;metadata num=&quot;1o&quot;&gt;ProcessID&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1m&quot;&gt;TitleDocMain&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;TitleDocMainShort&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1m&quot;&gt;CatalogIDDigital&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;shelfmarksource&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;PublicationDate&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;PublicationYear&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;*&quot;&gt;PlaceOfPublication&lt;/metadata&gt;
        &lt;metadata num=&quot;*&quot;&gt;Author&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_ownerOrig&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_ownerDigi&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_licensor&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_link&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_linktext&lt;/metadata&gt;
        &lt;metadata num=&quot;*&quot;&gt;singleDigCollection&lt;/metadata&gt;
        &lt;metadata num=&quot;*&quot;&gt;FormatSourcePrint&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;SizeSourcePrint&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;TSL_ATS&lt;/metadata&gt;
        &lt;metadata num=&quot;*&quot;&gt;slub_project&lt;/metadata&gt;
    &lt;/DocStrctType&gt;
    &lt;DocStrctType&gt;
        &lt;Name&gt;Subinventory&lt;/Name&gt;
        &lt;language name=&quot;de&quot;&gt;Unterbestand&lt;/language&gt;
        &lt;language name=&quot;en&quot;&gt;Subinventory&lt;/language&gt;
        &lt;allowedchildtype&gt;Subinventory&lt;/allowedchildtype&gt;
        &lt;allowedchildtype&gt;Manuscript&lt;/allowedchildtype&gt;
        &lt;metadata num=&quot;1o&quot;&gt;ProcessID&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;CurrentNo&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;CurrentNoSorting&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1m&quot;&gt;TitleDocMain&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;PublicationDate&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;PublicationYear&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;*&quot;&gt;PlaceOfPublication&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;TitleDocMainShort&lt;/metadata&gt;
        &lt;metadata num=&quot;*&quot;&gt;Author&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1m&quot;&gt;CatalogIDDigital&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_ownerOrig&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_ownerDigi&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_licensor&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_link&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_linktext&lt;/metadata&gt;
        &lt;metadata num=&quot;*&quot;&gt;singleDigCollection&lt;/metadata&gt;
        &lt;metadata num=&quot;*&quot;&gt;FormatSourcePrint&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;SizeSourcePrint&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;shelfmarksource&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;1o&quot;&gt;slub_footer&lt;/metadata&gt;
        &lt;metadata DefaultDisplay=&quot;true&quot; num=&quot;*&quot;&gt;slub_Finance&lt;/metadata&gt;
        &lt;metadata num=&quot;1o&quot;&gt;slub_script&lt;/metadata&gt;
        &lt;metadata num=&quot;*&quot;&gt;slub_project&lt;/metadata&gt;
    &lt;/DocStrctType&gt;
</code></pre>
<h3 id="classification-of-structural-elements">Classification of Structural Elements</h3>
<p>The plugin configuration file also contains classification rules for the structural elements mentioned in the last section. These rules utilize XPath expressions to test for the existence („mandatoryelement“) and absence („forbiddenelement“) of specific elements within the XML structure of individual documents to decide which class each document belongs to. Each group of these conditions defines mutually exclusive subsets of all available documents.</p>
<p>The initial configuration contains the following rules for the structural elements "Inventory", "Subinventory" and "Manuscript":</p>
<p>A Kalliope document is classified as a structural element of type "Manuscript" if the following criteria are met:</p>
<ul>
<li>the XML DOM of the current document contains an element at the XPath <code>"mods/relatedItem/identifier[@type='localparentid']"</code> which in turn contains the ID of this documents parent document in Kalliope</li>
<li>the XML DOM of the current document contains an element at the XPath <code>"mods/typeOfResource[@manuscript='yes']"</code></li>
</ul>
<p>A Kalliope document is classified as a structural element of type "Subinventory" if the following criteria are met:</p>
<ul>
<li>the XML DOM of the current document contains an element at the XPath <code>"mods/relatedItem/identifier[@type='localparentid']"</code>, which in turn contains the ID of this documents parent document in Kalliope</li>
<li>the XML DOM of the current document contains <strong>no</strong> element at the XPath <code>"mods/typeOfResource[@manuscript='yes']"</code></li>
</ul>
<p>A Kalliope document is classified as a structural element of type "Inventory" if the following criteria are met:</p>
<ul>
<li>the XML DOM of the current document contains <strong>no</strong> element at the XPath <code>"mods/relatedItem/identifier[@type='localparentid']"</code></li>
<li>the XML DOM of the current document contains an element at the XPath <code>"mods/typeOfResource[@collection='yes']"</code></li>
</ul>
<h3 id="mapping-file">Mapping File</h3>
<p>The mapping file configured in the last section contains the catalogue specific mapping between catalogue metadata fields and Kitodo metadata fields. The mapping is specified as an XML transformation file and can be configured using standard XSLT and XPath syntax.</p>
<pre><code>    &lt;mappingFile&gt;kalliope2kitodo.xsl&lt;/mappingFile&gt;
</code></pre>
<p>The plugin looks for the mapping file with this name in the global „xsl“ folder of the Kitodo.Production installation, which can be configured in the global configuration file „goobi_config.xml“.</p>
<h2 id="metadata-mapping">Metadata Mapping</h2>
<p>The mapping file configured in the last section contains the catalogue specific mapping between catalogue metadata fields and Kitodo metadata fields. The mapping is specified as an XML transformation file and can be configured using standard XSLT and XPath syntax.</p>
<p>For Kalliope, the mapping file <a href="https://github.com/kitodo/kitodo-production/blob/2.x/Goobi/plugins/opac/ModsPlugin/org/kitodo/production/plugin/CataloguePlugin/ModsPlugin/kalliope2kitodo.xsl">kalliope2kitodo.xsl</a> contains an XSL template for each metadata field in Kalliope that should be mapped to a corresponding field in Kitodo. The following shows an example for such an XSL template:</p>
<pre><code>    &lt;xsl:template match=&quot;mods:mods/mods:originInfo/mods:place/mods:placeTerm[@type='text']&quot;&gt;
        &lt;goobi:metadata name=&quot;PlaceOfPublication&quot;&gt;&lt;xsl:value-of select=&quot;normalize-space()&quot; /&gt;&lt;/goobi:metadata&gt;
    &lt;/xsl:template&gt;
</code></pre>
<p>The templates „match“ attribute contains an XPath identifying the metadata element to be mapped in the imported document. Any content between the opening and closing „xsl:template“ tags is used to create the content at the corresponding position in the mapped output document. Tags in the „xsl“ namespace are interpreted as control flow instructions. For example, „xsl:value-of“ reads the text content of a specified XML node. <a href="http://www.w3schools.com/xml/xsl_intro.asp">http://www.w3schools.com/xml/xsl_intro.asp</a> can be used as a short introduction for XSLT.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>