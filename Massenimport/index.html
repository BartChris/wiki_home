
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Massenimport - Kitodo Production Documentation!</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#eingabemaske" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Kitodo Production Documentation!" class="md-header__button md-logo" aria-label="Kitodo Production Documentation!" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Kitodo Production Documentation!
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Massenimport
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Kitodo Production Documentation!" class="md-nav__button md-logo" aria-label="Kitodo Production Documentation!" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Kitodo Production Documentation!
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#eingabemaske" class="md-nav__link">
    <span class="md-ellipsis">
      Eingabemaske
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Eingabemaske">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-katalog-auswahl" class="md-nav__link">
    <span class="md-ellipsis">
      1. Katalog-Auswahl
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-tabelle-fur-datensatz-ids-und-zusatzliche-metadaten" class="md-nav__link">
    <span class="md-ellipsis">
      2. Tabelle für Datensatz-IDs und zusätzliche Metadaten
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-bedienelemente-zum-upload-von-csv-dateien" class="md-nav__link">
    <span class="md-ellipsis">
      3. Bedienelemente zum Upload von CSV-Dateien
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-csv-spaltentrennzeichen" class="md-nav__link">
    <span class="md-ellipsis">
      4. CSV-Spaltentrennzeichen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-knopfe-zum-auslosen-oder-abbrechen-des-massenimports" class="md-nav__link">
    <span class="md-ellipsis">
      5. Knöpfe zum Auslösen oder Abbrechen des Massenimports
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massenimport-ergebnisse" class="md-nav__link">
    <span class="md-ellipsis">
      Massenimport - Ergebnisse
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Massenimport</h1>

<p>Kitodo.Production 3 bietet einen Massenimport für Metadaten an. Dieser erlaubt es, <a href="https://github.com/kitodo/kitodo-production/wiki/Projektauswahl-und-Katalogsuche#import-konfigurationen">Importkonfigurationen</a> vom Typ "Katalogsuche" automatisch mit einer Liste von IDs aufzurufen. Für jede ID wird die Katalogschnittstelle einmal abgefragt und bei erfolgreicher Abfrage ein Digitalisierungsvorgang in Kitodo angelegt.</p>
<p>Die Eingabemaske für den Massenimport erreicht man über das entsprechende Symbol <img alt="Bildschirmfoto 2024-08-19 um 10 23 58" src="https://github.com/user-attachments/assets/094f6103-4a3d-4b97-a600-2dfd39db5a2c" /> in der "Aktionen"-Spalte der Projektliste:</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 10 21 49" src="https://github.com/user-attachments/assets/a1b985a6-23a9-411d-9a8b-ac577b7d8a83" /></p>
<h2 id="eingabemaske">Eingabemaske</h2>
<p><img alt="Bildschirmfoto 2024-08-19 um 10 42 04" src="https://github.com/user-attachments/assets/507d6f7c-03c0-46a8-8b85-4ff05df5b6a1" /></p>
<p>Die Eingabemaske des Massenimports enthält die folgenden Elemente:
1. Katalog-Auswahl
2. Tabelle für Datensatz-IDs und zusätzliche Metadaten
3. Bedienelemente zum Upload von CSV-Dateien
4. CSV-Spaltentrennzeichen
5. Knöpfe zum Auslösen oder Abbrechen des Massenimports</p>
<h3 id="1-katalog-auswahl">1. Katalog-Auswahl</h3>
<p><img alt="Bildschirmfoto 2024-08-19 um 10 40 32" src="https://github.com/user-attachments/assets/4b4af0f5-2d80-44ca-8a36-fdf28d4f1974" /></p>
<p>Die Katalogauswahl enthält alle Importkonfigurationen vom Typ "Katalogsuche", auf die der aktuelle Benutzer über die ihm zugewiesenen Mandanten Zugriff hat. Alle in der Liste der Datensatz-IDs enthaltenen Identifier werden beim Auslösen des Massenimports an die ausgewählte Katalogsuche geschickt und die zurückerhaltenen Metadaten anhand der zur Importkonfiguration gehörenden <a href="https://github.com/kitodo/kitodo-production/wiki/Projektauswahl-und-Katalogsuche#abbildungsdateien">Abbildungsdateien</a> in einen Kitodo-Vorgang umgewandelt. </p>
<h3 id="2-tabelle-fur-datensatz-ids-und-zusatzliche-metadaten">2. Tabelle für Datensatz-IDs und zusätzliche Metadaten</h3>
<p><img alt="Bildschirmfoto 2024-08-19 um 10 44 18" src="https://github.com/user-attachments/assets/3c960fe8-d320-4056-9d46-3721f9bee643" /></p>
<p>Jede Zeile in der Tabelle entspricht einem vom Katalog zu importierenden Datensatz. In jeder Zeile muss mindestens eine Zelle mit der ID des Datensatzes enthalten sein. </p>
<p>Zusätzliche Zeilen können über das "+"-Symbol unter der Tabelle hinzugefügt werden:</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 10 59 04" src="https://github.com/user-attachments/assets/b762fbeb-4468-4f7d-afca-e0fb9020208c" /></p>
<p>Optional können weitere Spalten ausgefüllt werden, um die importierten Datensätze um zusätzliche Metadaten anzureichern (wenn Spalten für zusätzliche Metadaten existieren, müssen die IDs der Datensätze immer in der ersten Spalte der Tabelle stehen). </p>
<p>Um weitere Spalten für zusätzliche Metadaten hinzuzufügen, muss auf das "+"-Symbol in der Titelleiste der Tabelle geklickt werden:</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 11 05 28" src="https://github.com/user-attachments/assets/cf6db5ed-2a10-4aff-a85c-af1e9c595395" /></p>
<p>Dies öffnet einen Dialog, in dem alle Metadaten aus dem aktuell verwendeten Regelsatz zur Auswahl stehen, die allen im Regelsatz definierten Dokumenttypen hinzugefügt werden können (diese Einschränkung auf Metadaten besteht, da der Dokumenttyp eines Datensatzes vor dessen Import noch unbekannt ist und damit nur solche Metadatenspalten garantiert gültig sind, die mit allen Dokumenttypen kompatibel sind):</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 10 57 49" src="https://github.com/user-attachments/assets/08fdf1fe-5b4d-4132-959e-84e3e148eadc" /></p>
<p>Die Werte sowohl der IDs als auch der Metadaten in den einzelnen Zellen der Tabelle können per Mausklick direkt "in place", d.h. ohne zusätzlichen Bearbeitungsdialog bearbeitet bzw. angepasst werden:</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 11 10 49" src="https://github.com/user-attachments/assets/de3f6702-e9b3-46b2-abd2-483674a9b0ad" /></p>
<p>Sowohl einzelne Datensätze in den Tabellenzeilen als auch Metadaten für alle Datensätze in den Tabellenspalten können über die jeweiligen Mülleimer-Symbole in der letzten Spalte sowie in der Tabellenkopfleiste vor dem Auslösen des Massenimports entfernt werden.</p>
<h3 id="3-bedienelemente-zum-upload-von-csv-dateien">3. Bedienelemente zum Upload von CSV-Dateien</h3>
<p>Die Identifier für den Massenimport können entweder manuell eingetragen oder über eine entsprechend vorbereitete CSV-Datei übertragen werden. Eine solche Datei kann zunächst über den Knopf "Auswählen" im lokalen Dateisystem ausgewählt und dann über den "Hochladen"-Knopf an Kitodo übertragen werden. (Hinweis: die Knöpfe für den CSV-Datei-Upload erscheinen erst nach der Auswahl eines Katalogs in der Katalogauswahl.)</p>
<p>Um für den Massenimport in Kitodo verwendbar zu sein, müssen Spalten, die zusätzliche, optionale Metadaten enthalten, mit den die importierten Datensätze angereichert werden sollen, in der ersten Zeile die Namen der jeweiligen Metadaten enthalten. Diese entsprechen den "keys" im aktuell verwendeten Regelsatz.</p>
<p>Die für dieses Beispiel verwendete CSV-Datei sieht wie folgt aus:</p>
<pre><code>ID, title, place
123, Band 1, Hamburg
456, Band 2, Dresden
789, Band 3, Berlin
</code></pre>
<p>Da die erste Spalte <em>immer</em> die IDs der zu importierenden Datensätze enthalten muss, ist der Eintrag in der ersten Spalte der ersten Zeile beliebig. Die hier eingetragenen Werte werden immer an das Suchfeld übergeben, das in der verwendenten Importkonfiguration als <code>ID-Suchfeld</code> konfiguriert wurde.</p>
<h3 id="4-csv-spaltentrennzeichen">4. CSV-Spaltentrennzeichen</h3>
<p>Über dieses Menü kann das Trennzeichen ausgwählt werden, welches die einzelnen Spalten in der hochgeladenen CSV-Datei voneinander trennt. (Datensätze in einer CSV-Datei werden über einen Zeilenumbruch voneinander getrennt). Dabei stehen die beiden CSV-Standard-Trennzeichen <code>,</code> und <code>;</code> zur Auswahl:</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 11 27 21" src="https://github.com/user-attachments/assets/511c849c-3957-493a-a703-98c828f04455" /></p>
<p>Das CSV-Trennzeichen kann auch nach dem Upload der CSV-Datei umgeschaltet werden, um eine korrekte Verarbeitung der Datei je nach verwendetem Trennzeichen zu ermöglichen. Dadurch kann der Nutzer schnell erkennen, wenn ein zu der aktuellen CSV-Datei nicht passendes Trennzeichen gewählt wurde, da dann alle Spalten eines CSV-Eintrags inkorrekt und nicht voneinander getrennt in der ersten Spalte der Tabelle landen:</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 11 35 04" src="https://github.com/user-attachments/assets/ce1dc073-c238-46f6-bceb-efa14a4c01d9" /></p>
<p>Wird das Trennzeichen auf die korrekte Option umgeschaltet, aktualisiert sich die Tabellenansicht und enthält anschließend die einzelnen Identifier und zusätzlichen Metadaten aus der CSV-Datei korrekt voneinenader getrennt in einzelnen Spalten der Tabelle:</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 11 29 02" src="https://github.com/user-attachments/assets/2924e82b-2fcc-421d-bd7c-65ee704a2da6" /></p>
<h3 id="5-knopfe-zum-auslosen-oder-abbrechen-des-massenimports">5. Knöpfe zum Auslösen oder Abbrechen des Massenimports</h3>
<p>Über den Knopf "Massenimport" wird der Massenimport für die ausgewählte Katalogsuche und aktuelle Datensatztabelle ausgelöst. Der Knopf "Abbrechen" führt zurück zur Projektliste.</p>
<h2 id="massenimport-ergebnisse">Massenimport - Ergebnisse</h2>
<p>Nachdem der Massenimport ausgelöst wurde, zeigt ein Fortschrittsbalken den Fortschritt des Massenimports an. Anschließend wird ein Dialog mit dem Ergebnis des Massenimports angezeigt, der den Nutzer darüber informiert, welche Datensätze erfolgreich importiert wurden und bei welchen Datenssätzen es ein Problem gab, das dessen Import verhinderte:</p>
<p><img alt="Bildschirmfoto 2024-08-19 um 11 39 48" src="https://github.com/user-attachments/assets/3eee159d-68aa-47df-877b-470379735050" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>